Started by user Gitlantis
Obtained Task06/jenkins-agents from git https://github.com/gitlantis/ExadelTask01.git
Running in Durability level: MAX_SURVIVABILITY
[Pipeline] Start of Pipeline
[Pipeline] stage
[Pipeline] { (nginx)
[Pipeline] node
Running on Jenkins in /var/jenkins_home/workspace/docker-pipline
[Pipeline] {
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
Cloning the remote Git repository
Cloning repository https://github.com/gitlantis/ExadelTask01.git
 > git init /var/jenkins_home/workspace/docker-pipline # timeout=10
Fetching upstream changes from https://github.com/gitlantis/ExadelTask01.git
 > git --version # timeout=10
 > git --version # 'git version 2.20.1'
 > git fetch --tags --force --progress -- https://github.com/gitlantis/ExadelTask01.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/gitlantis/ExadelTask01.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision def233563eae7536fe059241039285ae2c14ad13 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f def233563eae7536fe059241039285ae2c14ad13 # timeout=10
Commit message: "version correction"
First time build. Skipping changelog.
[Pipeline] withEnv
[Pipeline] {
[Pipeline] isUnix
[Pipeline] sh
+ docker inspect -f . nginx:alpine
.
[Pipeline] withDockerContainer
Jenkins seems to be running inside container ebde5d9cbd2481a73529241bd8ee7eeadc2279f8766296099091059764bfefcb
$ docker run -t -d -u 0:0 -w /var/jenkins_home/workspace/docker-pipline --volumes-from ebde5d9cbd2481a73529241bd8ee7eeadc2279f8766296099091059764bfefcb -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** nginx:alpine cat
$ docker top 0a61417b3ebda8588c7340e85674930cd83b28aace49243d56989294e74a8540 -eo pid,comm
[Pipeline] {
[Pipeline] sh
+ nginx -v
nginx version: nginx/1.21.1
[Pipeline] }
$ docker stop --time=1 0a61417b3ebda8588c7340e85674930cd83b28aace49243d56989294e74a8540
$ docker rm -f 0a61417b3ebda8588c7340e85674930cd83b28aace49243d56989294e74a8540
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (node)
[Pipeline] node
Running on Jenkins in /var/jenkins_home/workspace/docker-pipline
[Pipeline] {
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/jenkins_home/workspace/docker-pipline/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/gitlantis/ExadelTask01.git # timeout=10
Fetching upstream changes from https://github.com/gitlantis/ExadelTask01.git
 > git --version # timeout=10
 > git --version # 'git version 2.20.1'
 > git fetch --tags --force --progress -- https://github.com/gitlantis/ExadelTask01.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision def233563eae7536fe059241039285ae2c14ad13 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f def233563eae7536fe059241039285ae2c14ad13 # timeout=10
Commit message: "version correction"
[Pipeline] withEnv
[Pipeline] {
[Pipeline] isUnix
[Pipeline] sh
+ docker inspect -f . node:alpine
.
[Pipeline] withDockerContainer
Jenkins seems to be running inside container ebde5d9cbd2481a73529241bd8ee7eeadc2279f8766296099091059764bfefcb
$ docker run -t -d -u 0:0 -w /var/jenkins_home/workspace/docker-pipline --volumes-from ebde5d9cbd2481a73529241bd8ee7eeadc2279f8766296099091059764bfefcb -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** node:alpine cat
$ docker top ec5266d7307a426aec0cfa0c92cb8886185516dd0739d978f31c4fd1d721f0d2 -eo pid,comm
[Pipeline] {
[Pipeline] sh
+ node --version
v16.7.0
[Pipeline] }
$ docker stop --time=1 ec5266d7307a426aec0cfa0c92cb8886185516dd0739d978f31c4fd1d721f0d2
$ docker rm -f ec5266d7307a426aec0cfa0c92cb8886185516dd0739d978f31c4fd1d721f0d2
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (mysql)
[Pipeline] node
Running on Jenkins in /var/jenkins_home/workspace/docker-pipline
[Pipeline] {
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/jenkins_home/workspace/docker-pipline/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/gitlantis/ExadelTask01.git # timeout=10
Fetching upstream changes from https://github.com/gitlantis/ExadelTask01.git
 > git --version # timeout=10
 > git --version # 'git version 2.20.1'
 > git fetch --tags --force --progress -- https://github.com/gitlantis/ExadelTask01.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision def233563eae7536fe059241039285ae2c14ad13 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f def233563eae7536fe059241039285ae2c14ad13 # timeout=10
Commit message: "version correction"
[Pipeline] withEnv
[Pipeline] {
[Pipeline] isUnix
[Pipeline] sh
+ docker inspect -f . mysql

Error: No such object: mysql
[Pipeline] isUnix
[Pipeline] sh
+ docker pull mysql
Using default tag: latest
latest: Pulling from library/mysql
e1acddbe380c: Pulling fs layer
bed879327370: Pulling fs layer
03285f80bafd: Pulling fs layer
ccc17412a00a: Pulling fs layer
1f556ecc09d1: Pulling fs layer
adc5528e468d: Pulling fs layer
1afc286d5d53: Pulling fs layer
6c724a59adff: Pulling fs layer
0f2345f8b0a3: Pulling fs layer
c8461a25b23b: Pulling fs layer
3adb49279bed: Pulling fs layer
77f22cd6c363: Pulling fs layer
ccc17412a00a: Waiting
1f556ecc09d1: Waiting
adc5528e468d: Waiting
1afc286d5d53: Waiting
6c724a59adff: Waiting
0f2345f8b0a3: Waiting
c8461a25b23b: Waiting
3adb49279bed: Waiting
77f22cd6c363: Waiting
bed879327370: Verifying Checksum
bed879327370: Download complete
03285f80bafd: Verifying Checksum
03285f80bafd: Download complete
e1acddbe380c: Verifying Checksum
e1acddbe380c: Download complete
ccc17412a00a: Verifying Checksum
ccc17412a00a: Download complete
1f556ecc09d1: Verifying Checksum
1f556ecc09d1: Download complete
adc5528e468d: Verifying Checksum
adc5528e468d: Download complete
1afc286d5d53: Verifying Checksum
1afc286d5d53: Download complete
6c724a59adff: Verifying Checksum
6c724a59adff: Download complete
c8461a25b23b: Verifying Checksum
c8461a25b23b: Download complete
3adb49279bed: Verifying Checksum
3adb49279bed: Download complete
77f22cd6c363: Verifying Checksum
77f22cd6c363: Download complete
0f2345f8b0a3: Verifying Checksum
0f2345f8b0a3: Download complete
e1acddbe380c: Pull complete
bed879327370: Pull complete
03285f80bafd: Pull complete
ccc17412a00a: Pull complete
1f556ecc09d1: Pull complete
adc5528e468d: Pull complete
1afc286d5d53: Pull complete
6c724a59adff: Pull complete
0f2345f8b0a3: Pull complete
c8461a25b23b: Pull complete
3adb49279bed: Pull complete
77f22cd6c363: Pull complete
Digest: sha256:d45561a65aba6edac77be36e0a53f0c1fba67b951cb728348522b671ad63f926
Status: Downloaded newer image for mysql:latest
docker.io/library/mysql:latest
[Pipeline] withDockerContainer
Jenkins seems to be running inside container ebde5d9cbd2481a73529241bd8ee7eeadc2279f8766296099091059764bfefcb
$ docker run -t -d -u 0:0 -w /var/jenkins_home/workspace/docker-pipline --volumes-from ebde5d9cbd2481a73529241bd8ee7eeadc2279f8766296099091059764bfefcb -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** mysql cat
$ docker top 995ff13650ec46511380e887ab5284fddf6543c78b5f4861a4d94988f411cbc9 -eo pid,comm
[Pipeline] {
[Pipeline] sh
+ mysql -V
mysql  Ver 8.0.26 for Linux on x86_64 (MySQL Community Server - GPL)
[Pipeline] }
$ docker stop --time=1 995ff13650ec46511380e887ab5284fddf6543c78b5f4861a4d94988f411cbc9
$ docker rm -f 995ff13650ec46511380e887ab5284fddf6543c78b5f4861a4d94988f411cbc9
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] }
[Pipeline] // stage
[Pipeline] End of Pipeline
Finished: SUCCESS